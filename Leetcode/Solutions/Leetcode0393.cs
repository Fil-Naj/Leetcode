using Leetcode.Extensions;

namespace Leetcode.Solutions
{
    public class Leetcode0393 : ISolution
    {
        public string Name => "UTF-8 Validation";

        public string Description => "Given an integer array data representing the data, return whether it is a valid UTF-8 encoding (i.e. it translates to a sequence of valid UTF-8 encoded characters).";

        public Difficulty Difficulty => Difficulty.Medium;

        public void Solve()
        {
            this.PrintProblemStatement();

            // var data = new[] {63, 216, 189, 243, 187, 151, 152, 241, 168, 135, 176, 30, 235, 132, 180, 231, 152, 177, 247, 140, 134, 182, 230, 161, 171, 93, 246, 133, 182, 146, 204, 158, 228, 143, 134, 243, 140, 185, 191, 114, 222, 157, 231, 185, 129, 8, 235, 132, 147, 120, 238, 183, 155, 240, 155, 186, 173, 76, 227, 163, 181, 246, 168, 134, 143, 19, 228, 150, 151, 225, 128, 141, 246, 154, 170, 186, 200, 147, 77, 225, 176, 145, 246, 168, 157, 157, 15, 206, 156, 236, 182, 165, 35, 127, 225, 143, 141, 210, 177, 240, 137, 141, 156, 18, 236, 171, 163, 241, 145, 144, 146, 194, 142, 229, 162, 145, 212, 130, 246, 166, 171, 176, 243, 187, 159, 187, 202, 139, 239, 141, 129, 247, 163, 180, 173, 29, 69, 214, 129, 25, 211, 144, 239, 184, 172, 60, 233, 166, 179, 246, 189, 161, 144, 203, 167, 226, 162, 146, 245, 165, 155, 147, 127, 204, 159, 233, 179, 150, 246, 157, 141, 164, 121, 218, 132, 227, 182, 175, 241, 148, 171, 157, 48, 192, 189, 246, 185, 164, 181, 2, 192, 159, 229, 153, 129, 245, 183, 160, 146, 61, 246, 131, 141, 131, 105, 238, 162, 128, 194, 165, 247, 166, 154, 183, 108, 233, 163, 176, 22, 221, 152, 242, 139, 156, 160, 2, 212, 165, 234, 191, 191, 243, 172, 137, 188, 236, 160, 151, 234, 189, 148, 209, 129, 228, 173, 155, 109, 237, 187, 139, 235, 151, 160, 126, 222, 128, 239, 130, 188, 247, 151, 148, 146, 54, 225, 141, 152, 243, 154, 179, 135, 11, 10, 236, 139, 130, 231, 132, 131, 245, 144, 189, 146, 5, 201, 153, 225, 153, 184, 240, 131, 180, 167, 41, 193, 191, 226, 150, 157, 243, 147, 182, 184, 203, 181, 228, 163, 154, 244, 191, 150, 159, 110, 83, 225, 156, 182, 196, 189, 233, 150, 152, 236, 183, 163, 246, 149, 175, 160, 192, 143, 236, 133, 168, 230, 139, 134, 247, 182, 181, 160, 87, 202, 189, 233, 157, 136, 241, 168, 156, 181, 30, 235, 149, 182, 242, 150, 167, 139, 203, 143, 247, 155, 154, 191, 99, 229, 172, 157, 241, 180, 168, 188, 212, 181, 239, 163, 149, 246, 164, 131, 151, 113, 225, 157, 175, 76, 204, 128, 231, 171, 189, 229, 176, 160, 43, 53, 214, 130, 234, 138, 166, 219, 129, 236, 179, 165, 240, 149, 129, 189, 229, 130, 170, 22, 196, 128, 244, 148, 143, 159, 227, 146, 173, 247, 174, 168, 158, 230, 131, 142, 247, 153, 147, 156, 44, 232, 187, 177, 247, 153, 147, 143, 238, 178, 146, 192, 138, 231, 164, 159, 244, 146, 143, 133, 64, 204, 167, 227, 157, 137, 243, 134, 177, 144, 224, 188, 177, 192, 136, 228, 180, 153, 231, 184, 176, 245, 171, 183, 159, 27, 244, 187, 167, 163, 35, 240, 164, 168, 173, 228, 176, 141, 215, 129, 224, 140, 151, 195, 151, 231, 162, 146, 220, 183, 232, 171, 157, 225, 132, 191, 23, 202, 186, 234, 129, 132, 245, 187, 164, 149, 123, 234, 138, 174, 230, 177, 151, 65, 217, 190, 237, 147, 160, 247, 148, 185, 181, 71, 242, 155, 154, 161, 39, 222, 167, 240, 129, 184, 166, 220, 181, 224, 174, 189, 241, 132, 139, 190, 208, 159, 231, 134, 183, 245, 185, 180, 149, 59, 228, 146, 152, 243, 134, 186, 138, 86, 212, 148, 228, 179, 190, 241, 181, 176, 166, 123, 210, 182, 229, 170, 178, 247, 181, 147, 162, 214, 191, 203, 149, 224, 134, 188, 243, 183, 152, 189, 247, 191, 160, 146, 230, 155, 183, 61, 227, 180, 141, 243, 184, 134, 188, 116, 203, 159, 192, 148, 231, 175, 164, 247, 150, 181, 139, 231, 146, 148, 100, 211, 156, 228, 176, 191, 247, 163, 162, 182, 2, 194, 150, 233, 168, 153, 245, 140, 155, 172, 62, 247, 134, 161, 161, 223, 177, 225, 177, 145, 107, 208, 132, 229, 145, 160, 239, 190, 164, 67, 222, 130, 231, 131, 156, 240, 153, 130, 181, 55, 219, 184, 233, 160, 136, 240, 178, 133, 152, 229, 174, 139, 221, 167, 227, 171, 158, 55, 224, 158, 175, 246, 161, 138, 191, 201, 145, 90, 225, 186, 188, 240, 164, 162, 185, 238, 144, 144, 241, 154, 164, 154, 99, 231, 178, 140, 246, 180, 147, 136, 226, 154, 176, 242, 188, 129, 138, 230, 167, 176, 7, 212, 143, 228, 176, 173, 242, 157, 186, 132, 15, 235, 141, 172, 243, 146, 154, 161, 235, 161, 148, 233, 171, 170, 80, 222, 182, 243, 175, 170, 158, 219, 142, 232, 153, 186, 104, 225, 153, 182, 247, 165, 135, 160, 35, 238, 144, 168, 240, 129, 178, 180, 92, 200, 157, 67, 230, 153, 132, 104, 226, 150, 187, 44, 245, 131, 144, 133, 53, 234, 160, 132, 241, 189, 188, 139, 235, 162, 161, 241, 190, 150, 153, 107, 239, 143, 189, 245, 167, 175, 190, 201, 188, 236, 180, 136, 211, 179, 244, 130, 128, 184, 217, 169, 241, 155, 149, 189, 238, 162, 140, 240, 172, 161, 128, 62, 193, 128, 233, 170, 150, 243, 191, 189, 186, 15, 212, 171, 236, 154, 150, 241, 150, 133, 178, 7, 233, 148, 183, 19, 225, 156, 157, 30, 222, 171, 228, 132, 130, 241, 181, 161, 174, 234, 180, 168, 241, 187, 171, 142, 44, 231, 149, 139, 240, 188, 170, 132, 13, 236, 176, 140, 44, 238, 185, 139, 230, 191, 145, 245, 145, 141, 159, 224, 170, 159, 247, 151, 135, 142, 46, 233, 174, 132, 247, 129, 145, 150, 196, 176, 233, 188, 190, 123, 227, 181, 174, 242, 156, 137, 184, 125, 238, 178, 165, 235, 174, 129, 242, 190, 130, 134, 193, 144, 235, 172, 185, 241, 176, 144, 162, 239, 168, 148, 245, 175, 129, 174, 217, 190, 204, 132, 238, 131, 134, 11, 238, 131, 163, 23, 237, 181, 162, 216, 137, 238, 190, 188, 26, 237, 152, 183, 82, 233, 134, 155, 72, 219, 132, 228, 186, 145, 96, 219, 140, 232, 165, 155, 201, 165, 240, 142, 139, 189, 234, 188, 148, 247, 139, 141, 191, 225, 177, 149, 246, 154, 172, 143, 226, 169, 188, 240, 148, 179, 170, 207, 147, 239, 169, 171, 244, 172, 172, 185, 198, 129, 234, 159, 145, 241, 141, 182, 185, 35, 208, 174, 242, 178, 183, 139, 31, 202, 177, 234, 131, 137, 240, 191, 140, 178, 36, 229, 158, 162, 222, 154, 215, 173, 227, 183, 189, 214, 128, 244, 142, 140, 169, 127, 215, 161, 120, 241, 133, 147, 160, 42, 69, 226, 158, 153, 245, 146, 152, 190, 226, 181, 182, 37, 221, 132, 238, 175, 170, 83, 193, 177, 226, 142, 167, 245, 145, 165, 133, 234, 153, 174, 240, 171, 163, 129, 43, 235, 171, 157, 202, 153, 243, 159, 189, 168, 91, 208, 137, 232, 180, 132, 21, 224, 177, 149, 245, 135, 172, 183, 204, 133, 79, 230, 186, 138, 232, 153, 190, 245, 182, 128, 171, 209, 128, 228, 143, 140, 5, 235, 174, 184, 247, 187, 180, 160, 31, 243, 190, 186, 191, 64, 223, 143, 232, 183, 181, 243, 164, 184, 153, 228, 169, 170, 240, 157, 180, 157, 87, 194, 162, 10, 214, 191, 225, 163, 175, 35, 195, 140, 121, 207, 172, 238, 142, 170, 45, 227, 168, 139, 233, 129, 163, 49, 196, 170, 227, 150, 154, 244, 132, 191, 131, 197, 175, 224, 179, 159, 242, 170, 180, 147, 97, 201, 146, 235, 182, 180, 197, 169, 196, 188, 233, 143, 143, 232, 168, 136, 125, 231, 170, 175, 199, 178, 239, 182, 187, 247, 138, 176, 137, 206, 171, 230, 141, 151, 242, 136, 153, 161, 245, 136, 147, 148, 15, 241, 130, 148, 171, 232, 163, 173, 127, 199, 135, 232, 152, 133, 240, 190, 160, 153, 69, 235, 142, 176, 243, 150, 172, 176, 87, 239, 133, 174, 240, 166, 135, 133, 206, 129, 227, 134, 188, 229, 128, 141, 245, 137, 140, 178, 119, 240, 130, 189, 150, 228, 167, 178, 241, 148, 139, 140, 76, 198, 162, 227, 148, 159, 89, 236, 191, 160, 245, 133, 140, 185, 194, 165, 219, 157, 40, 207, 168, 8, 237, 178, 164, 243, 189, 150, 165, 201, 134, 228, 163, 163, 225, 132, 143, 242, 129, 190, 153, 47, 221, 183, 230, 189, 191, 233, 134, 174, 241, 131, 155, 163, 114, 244, 170, 183, 151, 231, 186, 141, 216, 177, 63, 227, 167, 139, 245, 157, 137, 161, 225, 172, 177, 14, 231, 162, 158, 240, 189, 138, 160, 199, 130, 236, 159, 161, 246, 162, 165, 135, 121, 215, 184, 225, 165, 145, 243, 138, 163, 128, 32, 198, 167, 243, 172, 128, 160, 218, 165, 227, 160, 141, 242, 174, 176, 187, 69, 212, 154, 228, 166, 159, 192, 190, 227, 161, 149, 246, 172, 161, 167, 200, 157, 233, 144, 145, 217, 146, 245, 164, 132, 165, 234, 166, 138, 15, 194, 183, 238, 145, 161, 247, 165, 139, 134, 108, 195, 144, 232, 179, 172, 246, 150, 135, 128, 220, 129, 227, 146, 129, 4, 234, 151, 138, 242, 173, 135, 130, 214, 177, 237, 177, 178, 243, 174, 173, 150, 24, 242, 138, 165, 180, 107, 227, 142, 146, 245, 168, 158, 131, 209, 179, 193, 170, 234, 148, 154, 47, 246, 179, 150, 140, 62, 122, 221, 137, 226, 163, 188, 247, 171, 175, 166, 60, 204, 144, 239, 166, 168, 242, 166, 153, 160, 83, 219, 177, 231, 163, 170, 246, 137, 158, 141, 240, 188, 135, 176, 212, 150, 229, 153, 134, 121, 216, 156, 235, 186, 144, 240, 191, 159, 172, 125, 210, 173, 204, 147, 115, 198, 171, 237, 150, 172, 240, 180, 188, 191, 245, 139, 153, 159, 235, 171, 170, 244, 157, 189, 154, 7, 219, 132, 224, 128, 191, 240, 137, 143, 184, 198, 165, 238, 156, 149, 246, 188, 157, 164, 109, 236, 132, 130, 11, 203, 148, 227, 187, 174, 241, 147, 190, 191, 105, 230, 154, 137, 230, 191, 159, 205, 191, 242, 145, 134, 187, 40, 225, 168, 170, 244, 190, 153, 163, 37, 227, 135, 149, 234, 167, 174, 240, 179, 157, 180, 217, 179, 207, 186, 241, 147, 151, 175, 30, 202, 190, 239, 129, 174, 246, 162, 132, 159, 18, 234, 184, 158, 243, 187, 131, 156, 220, 153, 243, 167, 139, 163, 86, 219, 154, 247, 146, 156, 170, 70, 218, 145, 227, 187, 133, 242, 144, 154, 139, 196, 138, 234, 129, 178, 245, 133, 176, 135, 224, 175, 187, 247, 142, 172, 140, 92, 218, 165, 241, 153, 167, 131, 124, 222, 172, 239, 134, 170, 216, 161, 228, 173, 143, 241, 175, 174, 174, 119, 234, 178, 155, 242, 185, 163, 152, 217, 144, 229, 168, 190, 245, 171, 142, 128, 46, 234, 153, 148, 232, 161, 174, 242, 152, 164, 148, 73, 223, 136, 234, 150, 190, 64, 244, 131, 172, 170, 115, 197, 148, 240, 187, 165, 185, 228, 162, 163, 240, 183, 160, 128, 25, 218, 133, 193, 156, 238, 148, 182, 247, 167, 170, 162, 2, 200, 153, 227, 179, 134, 204, 164, 231, 130, 162, 246, 175, 183, 129, 232, 146, 132, 244, 171, 177, 173, 237, 154, 180, 205, 155, 234, 161, 189, 202, 136, 230, 169, 191, 233, 128, 136, 241, 154, 138, 170, 234, 128, 157, 32, 225, 146, 137, 30, 220, 131, 236, 139, 162, 246, 172, 167, 165, 228, 185, 168, 244, 136, 172, 159, 211, 143, 225, 172, 130, 243, 159, 128, 182, 235, 171, 168, 215, 186, 239, 166, 157, 244, 134, 140, 179, 207, 179, 43, 239, 165, 183, 245, 134, 163, 175, 109, 234, 181, 167, 242, 154, 190, 128, 51, 220, 166, 231, 128, 161, 211, 158, 216, 177, 237, 153, 171, 243, 169, 143, 173, 240, 185, 169, 146, 42, 233, 141, 165, 124, 234, 133, 186, 241, 163, 169, 166, 65, 225, 133, 190, 245, 141, 174, 145, 94, 233, 171, 152, 212, 187, 231, 164, 171, 237, 162, 162, 247, 176, 143, 136, 214, 161, 225, 185, 134, 243, 146, 143, 151, 193, 183, 243, 176, 139, 181, 245, 131, 129, 156, 236, 163, 182, 245, 134, 142, 139, 195, 149, 245, 133, 172, 152, 26, 237, 173, 170, 240, 134, 178, 172, 222, 174, 234, 155, 188, 246, 145, 177, 181, 98, 200, 187, 229, 137, 167, 224, 190, 163, 71, 226, 144, 162, 240, 167, 179, 179, 247, 150, 157, 168, 222, 190, 229, 146, 184, 242, 155, 168, 131, 230, 163, 173, 244, 182, 165, 172, 232, 149, 140, 236, 176, 151, 48, 223, 153, 229, 190, 144, 84, 239, 150, 130, 243, 143, 146, 185, 223, 174, 233, 154, 138, 242, 137, 162, 142, 226, 177, 137, 207, 159, 65, 224, 158, 150, 241, 160, 130, 163, 200, 132, 246, 129, 166, 183, 237, 144, 188, 244, 189, 191, 169, 127, 214, 159, 233, 137, 190, 122, 217, 187, 224, 137, 179, 194, 159, 224, 158, 132, 21, 239, 140, 172, 208, 173, 242, 155, 180, 149, 37, 229, 131, 157, 247, 155, 159, 138, 192, 190, 238, 180, 183, 245, 164, 170, 144, 69, 222, 160, 245, 133, 138, 187, 236, 135, 186, 240, 184, 162, 182, 54, 37, 222, 131, 242, 165, 164, 149, 39, 227, 190, 144, 246, 137, 175, 156, 18, 210, 168, 233, 135, 165, 225, 149, 143, 243, 160, 178, 185, 21, 202, 168, 225, 154, 145, 242, 163, 163, 141, 114, 215, 173, 224, 142, 175, 235, 169, 135, 120, 194, 147, 237, 133, 164, 242, 161, 172, 132, 49, 224, 165, 179, 247, 179, 153, 162, 196, 145, 244, 190, 148, 145, 233, 190, 154, 241, 139, 172, 149, 8, 217, 188, 240, 184, 142, 189, 232, 164, 143, 17, 192, 171, 225, 183, 151, 193, 161, 233, 189, 147, 243, 144, 155, 133, 242, 162, 137, 139, 55, 238, 153, 129, 243, 160, 142, 157, 56, 192, 144, 240, 169, 167, 129, 42, 117, 229, 188, 128, 63, 205, 158, 238, 158, 173, 87, 198, 140, 224, 184, 139, 242, 166, 186, 157, 196, 160, 229, 159, 134, 48, 209, 158, 230, 182, 138, 242, 148, 173, 187, 198, 173, 245, 132, 141, 189, 204, 164, 239, 149, 182, 87, 223, 180, 241, 167, 178, 148, 223, 130, 227, 143, 155, 227, 132, 187, 244, 175, 190, 187, 111, 225, 171, 130, 240, 187, 166, 191, 239, 170, 142, 107, 208, 180, 242, 131, 184, 175, 195, 168, 233, 146, 169, 20, 245, 149, 186, 169, 27, 234, 146, 142, 246, 182, 138, 190, 13, 192, 159, 27, 212, 164, 246, 185, 166, 184, 222, 153, 247, 141, 178, 173, 58, 192, 155, 61, 42, 196, 131, 235, 178, 132, 240, 144, 150, 154, 107, 211, 170, 224, 136, 143, 31, 217, 130, 233, 152, 143, 216, 164, 227, 139, 187, 86, 192, 181, 239, 179, 135, 240, 171, 150, 161, 43, 229, 174, 159, 70, 225, 152, 151, 238, 171, 151, 245, 191, 177, 131, 203, 164, 224, 147, 137, 113, 226, 158, 176, 38, 198, 151, 230, 181, 137, 82, 220, 145, 34, 200, 148, 228, 182, 139, 11, 225, 147, 135, 228, 188, 144, 73, 194, 171, 235, 191, 171, 245, 182, 132, 140, 8, 236, 159, 153, 240, 131, 136, 180, 239, 189, 176, 241, 174, 156, 168, 224, 170, 155, 242, 180, 144, 142, 51, 204, 187, 236, 147, 172, 242, 169, 169, 148, 48, 208, 140, 239, 172, 131, 244, 181, 143, 172, 29, 247, 169, 179, 144, 103, 192, 151, 233, 151, 166, 239, 150, 163, 245, 137, 135, 128, 208, 157, 227, 174, 173, 245, 154, 169, 173, 68, 223, 182, 225, 183, 172, 242, 177, 149, 164, 75, 220, 187, 236, 159, 186, 240, 144, 148, 177, 244, 183, 161, 133, 77, 226, 172, 184, 247, 167, 148, 179, 234, 154, 190, 22, 27, 193, 168, 247, 136, 150, 159, 6, 240, 157, 141, 140, 209, 144, 234, 184, 148, 232, 190, 152, 241, 128, 171, 189, 199, 187, 228, 136, 185, 101, 240, 191, 176, 144, 236, 134, 153, 246, 133, 187, 172, 200, 158, 224, 151, 139, 239, 153, 161, 241, 181, 141, 151, 203, 183, 224, 178, 143, 243, 130, 165, 129, 24, 239, 148, 149, 195, 151, 242, 174, 147, 148, 223, 181, 232, 138, 145, 224, 148, 131, 233, 160, 146, 214, 136, 230, 128, 128, 240, 152, 133, 137, 197, 153, 233, 156, 156, 229, 170, 148, 63, 246, 151, 129, 159, 242, 170, 164, 140, 230, 138, 154, 91, 225, 144, 159, 197, 177, 239, 149, 167, 245, 143, 168, 139, 205, 171, 247, 172, 128, 186, 100, 218, 149, 233, 170, 167, 247, 182, 165, 138, 12, 196, 151, 227, 166, 188, 243, 189, 182, 165, 100, 216, 175, 244, 179, 157, 159, 199, 189, 228, 180, 166, 3, 224, 146, 181, 78, 222, 166, 237, 131, 175, 242, 186, 171, 167, 104, 221, 143, 228, 154, 177, 22, 222, 159, 236, 162, 174, 246, 140, 150, 141, 210, 159, 235, 136, 141, 125, 204, 129, 240, 142, 139, 183, 205, 139, 241, 132, 160, 153, 237, 163, 136, 245, 141, 182, 189, 234, 141, 135, 244, 160, 166, 136, 20, 233, 128, 184, 247, 143, 168, 138, 47, 199, 172, 233, 160, 187, 245, 130, 168, 177, 237, 142, 180, 247, 181, 189, 130, 226, 139, 172, 246, 144, 144, 136, 236, 140, 148, 66, 214, 132, 227, 175, 184, 242, 142, 145, 141, 226, 138, 132, 231, 142, 150, 194, 160, 230, 148, 178, 246, 182, 179, 160, 232, 136, 138, 247, 153, 160, 141, 232, 183, 186, 230, 148, 153, 246, 152, 154, 190, 228, 174, 155, 216, 132, 239, 180, 178, 240, 153, 148, 132, 195, 139, 245, 181, 129, 171, 201, 129, 237, 158, 145, 242, 188, 164, 150, 199, 148, 225, 158, 140, 80, 216, 145, 227, 183, 154, 215, 185, 233, 182, 179, 244, 179, 190, 172, 198, 190, 224, 130, 162, 242, 179, 154, 174, 74, 35, 230, 131, 177, 81, 231, 178, 141, 244, 175, 167, 175, 29, 214, 167, 228, 187, 172, 246, 160, 184, 181, 63, 239, 143, 129, 246, 174, 180, 159, 238, 172, 165, 240, 143, 130, 182, 80, 237, 167, 170, 78, 217, 155, 247, 147, 138, 191, 14, 221, 145, 236, 148, 146, 26, 225, 172, 158, 198, 135, 238, 150, 178, 111, 235, 186, 176, 244, 187, 172, 184, 63, 240, 185, 171, 137, 37, 197, 158, 238, 169, 168, 247, 188, 177, 133, 205, 189, 228, 144, 136, 50, 235, 178, 152, 247, 157, 191, 149, 203, 191, 236, 132, 139, 245, 153, 170, 158, 235, 131, 186, 244, 182, 135, 165, 2, 25, 218, 182, 230, 163, 150, 245, 180, 172, 135, 239, 167, 170, 246, 143, 188, 157, 192, 144, 233, 141, 157, 246, 163, 178, 164, 88, 210, 191, 231, 174, 136, 243, 154, 133, 173, 79, 194, 172, 20, 213, 172, 246, 163, 148, 173, 103, 239, 159, 141, 244, 186, 163, 185, 27, 235, 133, 143, 247, 132, 139, 151, 58, 247, 189, 155, 169, 217, 177, 239, 139, 189, 242, 156, 140, 159, 31, 246, 140, 154, 164, 81, 217, 135, 233, 161, 150, 242, 136, 146, 157, 120, 211, 151, 201, 190, 227, 162, 134, 243, 167, 128, 187, 247, 132, 159, 140, 68, 242, 177, 145, 138, 196, 190, 234, 133, 159, 217, 156, 227, 131, 182, 245, 146, 160, 174, 222, 179, 236, 159, 129, 246, 147, 166, 152, 226, 180, 186, 49, 239, 174, 139, 242, 181, 144, 176, 76, 237, 134, 188, 246, 136, 169, 172, 234, 134, 129, 209, 183, 227, 173, 185, 246, 160, 159, 158, 206, 152, 244, 176, 149, 157, 109, 225, 132, 153, 198, 168, 207, 156, 235, 140, 155, 238, 148, 174, 242, 167, 140, 135, 105, 56, 239, 145, 153, 244, 165, 145, 132, 23, 235, 155, 142, 242, 155, 180, 130, 6, 198, 182, 224, 171, 190, 244, 131, 131, 161, 36, 202, 179, 14, 227, 184, 147, 84, 207, 150, 235, 149, 173, 240, 176, 153, 178, 55, 233, 182, 190, 216, 140, 234, 141, 130, 69, 237, 164, 185, 11, 233, 149, 158, 225, 184, 149, 245, 166, 164, 137, 215, 176, 228, 148, 133, 212, 130, 233, 160, 161, 247, 139, 134, 168, 71, 236, 154, 181, 217, 128, 239, 174, 159, 240, 147, 137, 171, 225, 151, 150, 243, 177, 144, 171, 200, 167, 235, 131, 144, 28, 230, 162, 143, 241, 165, 176, 148, 245, 178, 164, 152, 231, 143, 158, 75, 223, 139, 225, 154, 170, 247, 154, 143, 149, 95, 89, 228, 185, 128, 241, 161, 156, 173, 237, 146, 141, 8, 231, 134, 154, 209, 184, 242, 138, 184, 147, 64, 209, 184, 238, 138, 186, 243, 162, 143, 130, 227, 160, 149, 214, 128, 239, 147, 173, 204, 166, 240, 170, 178, 130, 192, 188, 227, 156, 187, 245, 137, 150, 164, 221, 133, 225, 190, 172, 244, 143, 148, 132, 7, 219, 174, 232, 148, 134, 236, 166, 162, 26, 232, 188, 174, 233, 135, 185, 245, 140, 189, 137, 25, 211, 178, 233, 148, 138, 236, 190, 178, 120, 222, 128, 227, 181, 149, 225, 165, 138, 226, 132, 148, 240, 146, 169, 184, 204, 157, 228, 160, 166, 241, 165, 177, 179, 233, 183, 166, 241, 152, 142, 157, 217, 135, 240, 184, 180, 169, 79, 247, 169, 178, 186, 217, 160, 226, 184, 186, 240, 137, 142, 129, 226, 141, 177, 242, 128, 181, 152, 200, 150, 226, 185, 187, 58, 3, 197, 156, 203, 179, 227, 168, 168, 102, 226, 180, 158, 247, 191, 188, 177, 117, 243, 132, 186, 150, 73, 200, 177, 236, 130, 143, 20, 198, 180, 229, 176, 137, 247, 190, 175, 131, 72, 201, 163, 219, 130, 234, 181, 154, 241, 131, 151, 189, 196, 138, 227, 185, 136, 227, 138, 167, 25, 208, 131, 234, 181, 130, 244, 191, 168, 137, 19, 208, 140, 226, 153, 137, 41, 109, 216, 166, 240, 137, 154, 167, 20, 214, 134, 91, 208, 170, 233, 160, 129, 241, 150, 176, 146, 242, 137, 175, 128, 237, 137, 185, 247, 146, 151, 144, 198, 139, 236, 153, 146, 241, 169, 129, 187, 68, 236, 132, 188, 127, 212, 146, 228, 167, 153, 245, 164, 161, 138, 207, 157, 234, 191, 161, 241, 157, 171, 149, 39, 16, 202, 169, 232, 141, 132, 218, 149, 228, 148, 142, 246, 172, 191, 187, 225, 146, 150, 79, 242, 148, 137, 165, 193, 189, 229, 139, 151, 247, 150, 151, 189, 97, 244, 175, 165, 155, 66, 201, 139, 229, 155, 153, 107, 231, 155, 138, 217, 184, 245, 146, 150, 160, 99, 212, 174, 242, 183, 159, 162, 225, 162, 146, 242, 163, 135, 180, 192, 189, 225, 139, 134, 227, 156, 132, 246, 167, 179, 173, 82, 227, 167, 188, 245, 150, 138, 162, 246, 167, 171, 159, 211, 180, 231, 138, 155, 225, 169, 183, 247, 141, 131, 161, 7, 207, 133, 234, 165, 174, 1, 201, 139, 239, 145, 171, 196, 165, 225, 168, 187, 193, 136, 235, 173, 145, 245, 146, 168, 134, 203, 133, 237, 145, 155, 199, 169, 239, 187, 177, 27, 198, 172, 235, 190, 135, 242, 187, 149, 165, 98, 222, 186, 245, 142, 136, 156, 13, 223, 134, 235, 187, 136, 246, 157, 170, 182, 230, 175, 158, 245, 143, 136, 163, 220, 147, 231, 142, 142, 237, 162, 131, 221, 175, 241, 187, 138, 169, 57, 229, 181, 130, 243, 144, 137, 136, 218, 129, 242, 181, 131, 141, 204, 165, 232, 154, 168, 59, 212, 183, 232, 129, 163, 247, 143, 185, 152, 106, 198, 184, 226, 137, 185, 244, 161, 145, 164, 79, 202, 131, 235, 187, 191, 212, 174, 231, 153, 130, 241, 142, 143, 154, 97, 220, 171, 234, 150, 136, 80, 247, 143, 152, 185, 71, 239, 163, 153, 45, 233, 135, 169, 245, 178, 157, 129, 205, 173, 245, 179, 138, 174, 202, 137, 226, 132, 157, 240, 185, 152, 167, 68, 217, 134, 231, 137, 184, 121, 223, 167, 229, 152, 188, 242, 190, 179, 191, 235, 155, 129, 225, 143, 179, 243, 168, 142, 139, 125, 234, 187, 175, 231, 148, 160, 239, 191, 176, 219, 162, 240, 169, 144, 180, 228, 167, 171, 82, 198, 155, 233, 138, 149, 246, 161, 179, 190, 36, 238, 150, 146, 233, 135, 159, 51, 204, 136, 231, 157, 143, 247, 130, 155, 156, 238, 185, 135, 227, 168, 173, 246, 159, 174, 155, 97, 224, 160, 147, 10, 210, 191, 235, 135, 141, 212, 150, 224, 132, 135, 53, 213, 138, 245, 164, 145, 141, 206, 150, 229, 163, 150, 10, 218, 154, 241, 140, 180, 142, 239, 182, 164, 194, 128, 232, 180, 182, 246, 144, 187, 175, 36, 238, 144, 148, 246, 184, 158, 137, 107, 206, 183, 226, 188, 188, 247, 171, 156, 191, 229, 168, 171, 241, 137, 181, 172, 210, 152, 230, 178, 165, 240, 135, 159, 188, 215, 149, 235, 169, 148, 124, 200, 177, 236, 145, 150, 117, 212, 152, 235, 183, 151, 77, 214, 184, 234, 137, 158, 82, 239, 135, 135, 241, 150, 146, 140, 225, 191, 187, 246, 136, 146, 180, 202, 189, 246, 155, 133, 191, 244, 170, 138, 166, 214, 177, 229, 176, 175, 244, 176, 150, 163, 108, 193, 136, 224, 130, 155, 224, 134, 187, 218, 155, 238, 149, 150, 207, 161, 238, 191, 158, 245, 148, 163, 162, 51, 224, 141, 190, 244, 142, 138, 141, 119, 197, 181, 246, 133, 151, 146, 226, 164, 138, 247, 190, 147, 184, 33, 223, 171, 226, 184, 156, 246, 146, 163, 161, 210, 143, 245, 177, 135, 167, 101, 225, 159, 184, 45, 219, 138, 233, 156, 183, 244, 159, 148, 175, 18, 196, 153, 240, 152, 141, 143, 71, 204, 170, 237, 134, 137, 247, 165, 184, 154, 46, 242, 145, 134, 156, 84, 211, 164, 224, 171, 182, 89, 234, 155, 163, 196, 149, 230, 151, 191, 49, 228, 172, 131, 112, 206, 137, 236, 163, 165, 245, 155, 179, 158, 197, 160, 243, 143, 131, 155, 7, 204, 159, 228, 169, 187, 247, 150, 134, 189, 74, 207, 151, 226, 166, 143, 101, 195, 132, 241, 135, 165, 167, 98, 232, 165, 171, 244, 182, 136, 163, 101, 196, 131, 241, 141, 158, 173, 227, 165, 144, 244, 141, 135, 130, 202, 144, 239, 147, 138, 202, 149, 232, 153, 138, 21, 229, 171, 169, 119, 218, 162, 237, 177, 129, 243, 189, 159, 164, 208, 142, 238, 183, 147, 247, 176, 136, 187, 226, 139, 128, 117, 224, 183, 164, 247, 152, 160, 175, 222, 137, 242, 137, 168, 148, 213, 162, 243, 150, 142, 149, 12, 212, 171, 228, 154, 190, 247, 156, 180, 168, 210, 130, 232, 156, 186, 5, 234, 167, 161, 246, 181, 146, 189, 123, 231, 137, 188, 247, 173, 147, 186, 22, 235, 159, 139, 241, 166, 190, 162, 223, 162, 236, 157, 149, 245, 158, 157, 150, 105, 74, 200, 150, 44, 204, 132, 238, 133, 181, 242, 150, 160, 185, 222, 159, 235, 164, 133, 196, 191, 9, 199, 178, 236, 167, 172, 245, 141, 160, 176, 111, 206, 138, 227, 143, 181, 244, 186, 137, 179, 227, 190, 182, 112, 218, 189, 234, 129, 128, 244, 142, 132, 171, 96, 207, 154, 226, 149, 132, 22, 203, 161, 235, 146, 134, 244, 144, 186, 164, 206, 137, 225, 169, 191, 114, 215, 138, 238, 161, 129, 242, 173, 133, 148, 22, 244, 188, 136, 164, 222, 165, 233, 151, 141, 108, 220, 128, 240, 166, 165, 135, 15, 213, 181, 57, 215, 149, 239, 175, 133, 241, 155, 181, 169, 235, 128, 186, 244, 128, 150, 157, 118, 203, 168, 230, 159, 134, 218, 183, 241, 163, 137, 145, 201, 174, 233, 132, 139, 117, 230, 177, 136, 243, 151, 163, 187, 192, 187, 245, 176, 141, 158, 76, 240, 143, 152, 181, 234, 137, 174, 244, 169, 178, 134, 235, 143, 183, 245, 144, 132, 185, 227, 169, 136, 213, 173, 231, 153, 174, 247, 180, 188, 161, 112, 192, 158, 229, 151, 150, 240, 169, 156, 145, 239, 177, 130, 66, 231, 142, 156, 245, 140, 166, 134, 194, 129, 219, 168, 224, 184, 168, 77, 195, 135, 225, 163, 185, 92, 231, 156, 139, 246, 181, 171, 129, 236, 161, 178, 103, 198, 173, 233, 180, 144, 124, 208, 167, 224, 187, 145, 25, 213, 191, 235, 188, 155, 245, 144, 177, 149, 216, 156, 244, 180, 163, 156, 110, 243, 179, 151, 152, 228, 149, 132, 101, 203, 157, 228, 175, 172, 84, 215, 176, 244, 181, 142, 172, 94, 212, 131, 239, 161, 128, 240, 173, 156, 162, 205, 161, 228, 181, 128, 194, 191, 232, 154, 146, 246, 149, 133, 174, 198, 179, 232, 169, 190, 61, 212, 189, 245, 134, 183, 164, 126, 236, 161, 170, 227, 185, 135, 34, 237, 170, 179, 240, 152, 145, 151, 71, 235, 134, 185, 241, 145, 133, 173, 23, 228, 159, 152, 247, 176, 145, 150, 198, 180, 237, 173, 158, 205, 140, 228, 129, 159, 240, 148, 185, 140, 76, 237, 136, 174, 246, 149, 173, 175, 208, 152, 235, 134, 190, 44, 215, 128, 243, 136, 175, 165, 216, 134, 243, 130, 143, 142, 38, 202, 172, 231, 150, 190, 244, 149, 131, 138, 235, 156, 181, 92, 238, 178, 188, 112, 239, 147, 166, 217, 132, 239, 151, 165, 229, 142, 171, 245, 157, 128, 155, 75, 235, 157, 152, 243, 146, 172, 140, 27, 229, 161, 168, 6, 192, 179, 224, 143, 128, 242, 139, 150, 149, 243, 168, 152, 148, 242, 129, 145, 135, 219, 152, 234, 153, 171, 244, 129, 186, 140, 104, 196, 145, 232, 149, 143, 227, 135, 186, 196, 167, 224, 151, 134, 240, 170, 138, 145, 96, 231, 160, 157, 243, 133, 141, 190, 228, 158, 170, 73, 222, 130, 232, 140, 183, 243, 152, 135, 168, 227, 139, 155, 244, 176, 170, 139, 221, 142, 230, 172, 171, 52, 222, 159, 230, 135, 144, 217, 186, 237, 170, 157, 246, 165, 142, 171, 81, 233, 178, 186, 243, 152, 140, 157, 204, 161, 238, 186, 134, 240, 176, 158, 161, 47, 235, 187, 151, 245, 137, 139, 162, 194, 162, 239, 175, 164, 245, 159, 161, 190, 92, 239, 183, 186, 242, 181, 174, 180, 205, 189, 206, 181, 208, 169, 107, 199, 130, 103, 223, 180, 40, 211, 157, 247, 149, 169, 191, 208, 179, 233, 186, 185, 227, 163, 145, 245, 129, 190, 174, 195, 175, 232, 152, 154, 237, 159, 171, 200, 191, 235, 145, 142, 238, 138, 134, 228, 133, 165, 246, 130, 154, 162, 230, 131, 174, 244, 188, 162, 167, 234, 176, 181, 246, 188, 143, 130, 215, 183, 240, 182, 157, 170, 24, 229, 176, 156, 219, 182, 235, 132, 151, 239, 133, 156, 245, 147, 134, 191, 88, 237, 143, 185, 240, 128, 176, 155, 102, 194, 128, 234, 143, 134, 115, 233, 169, 134, 241, 164, 190, 174, 121, 215, 170, 105, 235, 146, 165, 244, 185, 148, 143, 205, 144, 238, 181, 168, 240, 159, 182, 188, 197, 150, 238, 174, 150, 240, 187, 138, 157, 108, 245, 186, 159, 180, 49, 199, 167, 222, 191, 236, 149, 138, 198, 179, 238, 157, 139, 56, 233, 157, 153, 24, 218, 182, 235, 130, 132, 247, 149, 170, 184, 14, 218, 154, 225, 133, 181, 247, 158, 181, 145, 243, 190, 132, 142, 237, 142, 136, 198, 176, 231, 181, 164, 245, 131, 132, 190, 239, 169, 183, 240, 184, 139, 156, 230, 129, 179, 200, 134, 234, 176, 157, 11, 223, 131, 235, 139, 167, 242, 135, 154, 128, 218, 137, 224, 139, 156, 67, 208, 151, 231, 162, 163, 209, 137, 240, 177, 140, 170, 4, 204, 181, 237, 165, 135, 245, 169, 129, 147, 101, 235, 140, 188, 219, 171, 247, 158, 163, 156, 237, 147, 149, 243, 141, 165, 142, 59, 200, 174, 227, 178, 173, 219, 168, 226, 165, 159, 240, 156, 189, 174, 213, 155, 238, 189, 138, 245, 185, 171, 184, 232, 153, 150, 118, 228, 165, 190, 223, 140, 232, 183, 154, 240, 180, 158, 184, 9, 222, 191, 238, 181, 151, 65, 225, 178, 170, 242, 140, 189, 174, 239, 175, 190, 221, 169, 242, 138, 186, 139, 206, 154, 240, 163, 164, 133, 123, 120, 235, 161, 130, 246, 172, 129, 185, 192, 172, 233, 131, 128, 94, 236, 165, 187, 242, 180, 141, 172, 110, 205, 155, 230, 146, 150, 230, 188, 137, 241, 167, 164, 130, 62, 226, 138, 136, 241, 182, 168, 166, 77, 225, 183, 154, 243, 160, 137, 188, 209, 141, 235, 139, 179, 245, 189, 159, 142, 55, 232, 169, 139, 242, 130, 169, 135, 16, 235, 149, 136, 51, 218, 176, 246, 178, 143, 181, 216, 129, 224, 138, 170, 245, 128, 143, 141, 0, 205, 176, 231, 175, 185, 108, 237, 143, 178};
            var data = new int[] { 197, 130, 1 };
            var result = ValidUtf8(data);

            // Prettify
            Console.WriteLine($"Input: {data.GetString()}");
            Console.WriteLine($"Output: {result}");
        }

        //public static Func<int, bool> OneByte   = x => x <= 127 ;
        //public static Func<int, bool> TwoByte   = x => 192 <= x && x < 224;
        //public static Func<int, bool> ThreeByte = x => 224 <= x && x < 240;
        //public static Func<int, bool> FourByte  = x => 240 <= x && x < 248;

        //public static Func<int, bool> Trailing = x => x >= 128 && x < 192;

        // public const int OneByte = 0x1000000;
        // public const int TwoByte = 0x1110000;
        // public const int ThreeByte = 0x11110000;
        // public const int FourByte = 0x11111000;


        public bool ValidUtf8(int[] data)
        {
            int repeats = 0;
            foreach (int character in data)
            {
                if (repeats > 0)
                {
                    if ((character & 0b11000000) != 0b10000000)
                        return false;
                     
                    repeats--;
                    continue;
                }

                if ((character & 0b11111000) == 0b11110000)
                {
                    repeats = 3;
                    continue;
                }

                if ((character & 0b11110000) == 0b11100000)
                {
                    repeats = 2;
                    continue;
                }

                if ((character & 0b11100000) == 0b11000000)
                {
                    repeats = 1;
                    continue;
                }

                if ((character & 0b10000000) == 0b00000000)
                    continue;

                return false;
            }
            return !(repeats > 0);
        }
    }
}
